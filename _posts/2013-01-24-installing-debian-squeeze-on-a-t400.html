---
layout: post
title: Installing Debian Squeeze on a T400
date: 2013-01-24
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
This post is just a quick guide for myself on getting <a href="http://www.debian.org/">Debian</a> Squeeze installed on my T400. This guide will assume that you have already downloaded <a href="http://www.debian.org/CD/netinst/">netinst</a> media, burnt it to CD.<br /><br />Everything out of the box works pretty well. Wifi needs a little extra attention, so .. onto the guide.<br /><h3>Before you begin</h3>You'll need these from off the web:<br /><ul><li>iwlwifi-5000-1.ucode, iwlwifi-5000-2.ucode</li><li>wireless-tools</li><li>libpcsclite</li><li>libnl</li><li>libdbus</li><li>wpa_supplicant</li></ul><br /><b>*Note*</b> Through the installation process, the installer will complain that you don't have some non-free firmware. Whilst you can write the requested files&nbsp;<i>iwlfifi-5000-2.ucode</i> &amp; <i>iwlwifi-5000-1.ucode</i> to a USB stick and supply it to the installer, I still wasn't able to get wifi running through the installer. I activate it later.<br /><br />Continue the installation as normal until you're at the other end.<br /><br /><h3>Get wireless running</h3>The part of the guide is roughly based on the <a href="http://wiki.debian.org/WiFi">WIFI guide</a> on the Debian site as well as the <a href="http://wiki.debian.org/WiFi/HowToUse#Command_Line">WIFI HowTo</a>.<br /><br />Once you're system is up, mount your media that has <i>wireless-tools. </i>Install this package with the following command.<br /><br /><pre># dpkg -i wireless-tools*.deb</pre><br />Also install <i>wpa_supplicant</i>&nbsp;while you're there.<br /><br /><pre># dpkg -i libpcsclite*.deb<br /># dpkg -i libnl*.deb<br /># dpkg -i libdbus*.deb<br /># dpkg -i wpa_supplicant*.deb</pre><br />Next, we'll add an entry into the /etc/network/interfaces file for our wireless interface. It should look something like the following.<br /><br /><pre>auto wlan0<br />iface wlan0 inet dhcp<br />    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf<br /></pre><br />We now need to configure wpa_supplicant in the file that we specified above. Create a new file at /etc/wpa_supplicant/wpa_supplicant.conf and add the following details.<br /><br /><pre>ctrl_interface=/var/run/wpa_supplicant<br /><br />ap_scan=1<br /><br />network={<br />      ssid="network-name"<br />      key_mgmt=WPA-PSK<br />      psk="secret-key"<br />}</pre><br />Bring the wireless interface up.<br /><br /><pre># ifup wlan0</pre><br />You should have an IP address now.<br /><br /><h3>Setting up software sources</h3><div>First things first. We need to change our sources list for apt. Change /etc/apt/sources.list to look like the following</div><div><br /><pre>deb http://mirror.aarnet.edu.au/debian stable main contrib non-free<br />deb-src http://mirror.aarnet.edu.au/debian stable main contrib non-free<br /><br />deb http://ftp.debian.org/debian/ squeeze-updates main contrib non-free<br />deb-src http://ftp.debian.org/debian/ squeeze-updates main contrib non-free<br /><br />deb http://security.debian.org/ squeeze/updates main contrib non-free<br />deb-src http://security.debian.org/ squeeze/updates main contrib non-free<br /><br />deb http://www.deb-multimedia.org squeeze main non-free<br /></pre></div><div><br />Update and upgrade the system here.<br /><br /><pre># aptitude update &amp;&amp; aptitude upgrade</pre><br />Add keyring package for the <a href="http://deb-multimedia.org/">Debian Multimedia</a> repository.<br /><br /><pre># aptitude install deb-multimedia-keyring</pre><br />Re-update!<br /><br /><pre># aptitude update</pre><div><br /></div><h3>Get the basics installed</h3><div>The staple applications need to get onto the machine, so we'll install them now.</div><div><br /><pre># aptitude install zsh sudo vim git lynx</pre></div><div><br />Setup sudo by adding your normal user account to the group "sudo".<br /><br /><pre># usermod michael -aG sudo</pre><br />Now, leave the root account alone!<br /><br />Change your default shell to zsh with the following command<br /><br /><pre>$ chsh -s /usr/bin/zsh michael</pre><br />With git installed, you'll be able to clone your dotfiles repository and take most of the configuration headaches away pretty quickly.<br /><br /><h3>X (xfce)</h3><div>Install X server, xfce, gdm and associated utilities with the following.</div><div><br /><pre>$ sudo aptitude install xorg xfce4 xfce4-goodies gdm</pre></div><div><br />Install a "sane" browser.<br /><br /><div><pre style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">$ sudo aptitude install chromium-browser</pre></div><div></div></div><h3></h3><h3></h3><h3>Development Environment</h3><div>Install the standard build tools. You'll need to add the testing repository as described in <a href="http://cogsandlevers.blogspot.com.au/2013/01/getting-c11-support-in-debian.html">this post</a>.</div><div><br /></div><div><pre>$ sudo aptitude install --target-release testing nasm gcc-4.7 g++-4.7 make</pre></div><div><br /></div><div>Haskell goes on next. Take it from the testing repository also as it'll be a later version.<br /><br /><pre>$ sudo aptitude install --target-release testing haskell-platform<br />$ cabal update<br />$ cabal install cabal-install<br />$ cabal install cabal-dev</pre></div><div><br />Python and associated environments - getting 2.7 as the default version for the machine.<br /><br /><pre>$ sudo aptitude install --target-release testing python2.7<br />$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 2<br />$ sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.6 1<br /></pre><br /><pre style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">$ sudo aptitude install --target-release testing python-setuptools</pre><br />easy_install, pip &amp; virtualenv next.<br /><br /><pre>$ sudo easy_install pip<br />$ sudo pip install virtualenv</pre><br />Install RVM<br /><br /><pre>$ curl -L https://get.rvm.io | bash -s stable --ruby</pre><br />Follow the requirements as directed by the RVM requirements screen. Perform usual ruby system updates.<br /><br /><pre>$ gem update --system<br />$ gem update</pre><br /><h3>To be continued . . .</h3></div></div></div></div>
<h2>Comments</h2>
<div class='comments'>
</div>
