---
layout: post
title: Loading an image with SDL_Image for OpenGL
date: 2013-01-05
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
<h3>Introduction</h3><div>One of those "routine tasks" that comes up each time I go to write a game in C/C++ is loading an image using SDL and getting it in context of OpenGL. Today I'll post the code that I use to get the job done. It's pretty common code and straight forward so it won't need much explanation.</div><div><br /></div><h3>The Code</h3><div>First up, we have some variables that I like to hang on to. Your choice weather you hold onto the the format and number of colours, but you'll certainly want to keep track of the texture variable.</div><div><br /><script src="https://gist.github.com/4460207.js"></script></div><div><br />Next up is the crux of the work. The file/IO and transformation is really done by the <a href="http://www.libsdl.org/projects/SDL_image/">SDL_Image</a> library. So helpful, so easy! Keep in mind that you'll need to link against it at compile time (-lSDL_Image).<br /><br /><script src="https://gist.github.com/4460230.js"></script> The code does assume that you're giving this program a texture with dimensions on the power-of-2 as OpenGL expects. If you don't - it's at your own peril. Like I said, there's nothing really out of the ordinary here. Load the file, find out some format parameters, build the OpenGL texture.<br /><br />At this point we have a texture that we can call <a href="http://www.khronos.org/opengles/sdk/docs/man/xhtml/glBindTexture.xml">glBindTexture</a> on, ready to go. You will want to make sure that TEXTURE_2D is enabled of course during your program's initialisation.<br /><br />Tearing down is really quite simple (and naturally OpenGL) also.<br /><br /><script src="https://gist.github.com/4460259.js"></script> Job's done!<br /><br />If you are interested, I've encapsulated a fair bit of this in an SDL helper library that I'm building at the moment called sdlper. You can grab it from my GitHub repository <a href="https://github.com/tuttlem/libsdlper/">here</a>.</div></div>
<h2>Comments</h2>
<div class='comments'>
</div>
