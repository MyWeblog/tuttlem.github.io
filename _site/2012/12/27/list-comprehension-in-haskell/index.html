<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      List comprehension in Haskell &middot; Cogs and Levers
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A place for thoughts, ideas, tutorials and bookmarks. My brain can only hold so much, you know.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    <a class="sidebar-nav-item" href="https://github.com/tuttlem/tuttlem.github.io">GitHub</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2014. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <label for="sidebar-checkbox" class="sidebar-toggle"></label>

          <h3 class="masthead-title">
            <a href="/" title="Home">Cogs and Levers</a>
            <small>A blog full of technical stuff</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">List comprehension in Haskell</h1>
  <span class="post-date">27 Dec 2012</span>
  <h1>List comprehension in Haskell</h1>
<div class='post'>
<h3>Introduction</h3><div>Generating and operating on lists of data in languages is an essential tool when doing even the most basic of processing. List comprehension is just this process. It's prevalent in most of today's languages and today I want to post about <a href="http://www.haskell.org/haskellwiki/List_comprehension">this process in Haskell</a>.</div><div><br /></div><h3>A numeric example</h3><div>Working with numeric data is probably the easiest of examples to help you grasp this concept. Let's start by using a list comprehension to generate a list of numbers 1-through-5.<br /><br /></div><pre>[x | x &lt;- [1..5]]</pre><br />This will return a list looking like [1, 2, 3, 4, 5]. Analysing what we've just written here, we can see that what we want to return is on the left hand side of the pipe "|" symbol, how we want to generate each value sits on the right hand side of the pipe symbol. This expression is wrapped in square braces because we want a list!<br /><br />We can change this ever so slightly to only give us back odd numbers like so:<br /><br /><pre></pre><pre></pre><pre>[x | x &lt;- [1..5], odd x]</pre><br />You can see that we've just concatenated another piece of criteria to the right hand side of the expression specifying that we only want odd numbers. We then end up with a list looking like [1, 3, 5]. These are still very simple examples, but we can do some very powerful things with these expressions.<br /><br />Take the following for example.<br /><br /><pre>[x * y | x &lt;- [1..5], y &lt;- [1..5]]</pre><br />Looking at the left-hand side you can see that we want the multiple of x and y. On the right-hand side you can see that both x and y iterate 1-through-5, so we end up with the following:<br /><br /><pre>[1,2,3,4,5,2,4,6,8,10,3,6,9,12,15,4,8,12,16,20,5,10,15,20,25]</pre><br />Now we're getting somewhere.<br /><h3>Not so numeric, but close</h3><div>When I first saw this technique employed, I'd immediately seen its use in many places. The first place that I decided to put it though was <a href="http://cogsandlevers.blogspot.com.au/2012/11/i-need-to-crawl-before-i-can-walk-so.html">generating a deck of card</a>. This link is to an Uno implementation that I tried out in Haskell, and if you're&nbsp;familiar&nbsp;with the game, you have colour cards and you have wild cards, so I could represent a deck with the two following expressions:</div><div><br /></div><pre>[Card v (Just c) | v &lt;- [Naught .. DrawTwo], c &lt;- [Red .. Yellow]]<br />[Card v Nothing | v &lt;- [Wild .. WildDrawFour]]</pre><div><br /></div><div>These two expressions gave me a deck of cards ready to shuffle! No "for-loops" here ma!<br /><br /><h3>Strings are just arrays of chars!</h3></div><div>Correct, they are. So it should be no surprise that this statement:<br /><br /><pre>[a | a &lt;- ['a'..'z']</pre><br /></div>generates a string that looks like this:<br /><br /><pre>"abcdefghijklmnopqrstuvwxyz"</pre><br />Pretty easy/obvious.<br /><br />The complexities of list processing and generation can be greatly simplified in your code if you can master the list comprehension.<br /><br /><br /></div>
<h2>Comments</h2>
<div class='comments'>
</div>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2014/03/25/assembly-syntax-intel-at-t/">
            Assembly Syntax Intel At T
            <small>25 Mar 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/03/24/xargs-i/">
            xargs -i
            <small>24 Mar 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/03/19/a-quick-lap-with-mvar/">
            A Quick Lap with MVar
            <small>19 Mar 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

  </body>
</html>
