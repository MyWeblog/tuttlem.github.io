<h1>Unix Ipc Pipes And Fifos</h1>
<div class='post'>
This snippet will show you two processes communicating between each other using a pipe.<br /><br /><pre class="brush:c;">int pfds[2];<br />char buf[30];<br /><br />/* open the pipe */<br />pipe(pfds);<br /><br />if (!fork()) {<br />	/* the child will write to the pipe */<br />    write(pfds[1], "test", 5);<br />    exit(0);<br />} else {<br />	/* the parent will read from the pipe */<br />    read(pfds[0], buf, 5);<br />    wait(NULL);<br />}<br /></pre><br />FIFOs are just pipes that have a specific name. In this snippet the name is a constant defined elsewhere called FIFO_NAME.<br /><br /><pre class="brush:c;">/* first program writes to the named pipe */<br />char buffer[20];<br />int num, fd;<br /><br />/* create the named pipe */<br />mknod(FIFO_NAME, S_IFIFO | 0666, 0);<br />/* open for writing */<br />fd = open(FIFO_NAME, O_WRONLY);<br />/* write to the pipe */<br />write(fd, buffer, strlen(buffer));<br /><br /><br />/* second program reads from the named pipe */<br />char buffer[20];<br />int num, fd;<br /><br />/* create the named pipe */<br />mknod(FIFO_NAME, S_IFIFO | 0666, 0);<br />/* open for reading */<br />fd = open(FIFO_NAME, O_RDONLY);<br />/* read from the pipe */<br />read(fd, s, 20);<br /></pre><br />Further reading:<br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?mknod">The mknod system call</a></div>
<h2>Comments</h2>
<div class='comments'>
</div>
