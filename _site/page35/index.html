<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Cogs and Levers &middot; A blog full of technical stuff
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A place for thoughts, ideas, tutorials and bookmarks. My brain can only hold so much, you know.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    <a class="sidebar-nav-item" href="https://github.com/tuttlem/tuttlem.github.io">GitHub</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2014. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <label for="sidebar-checkbox" class="sidebar-toggle"></label>

          <h3 class="masthead-title">
            <a href="/" title="Home">Cogs and Levers</a>
            <small>A blog full of technical stuff</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/11/26/unix-networking-server/">
        Unix Networking Server
      </a>
    </h1>

    <span class="post-date">26 Nov 2012</span>

    <h1>Unix Networking Server</h1>
<div class='post'>
The following snippet is a bare-bones server.<br /><br /><pre class="brush:c;">int sockfd, new_fd;  <br />struct addrinfo hints, *servinfo, *p;<br />struct sockaddr_storage their_addr; <br />socklen_t sin_size;<br />struct sigaction sa;<br />int yes=1;<br />char s[INET6_ADDRSTRLEN];<br />int rv;<br /><br />/* fill out the address structure */<br />memset(&amp;hints, 0, sizeof hints);<br />hints.ai_family = AF_UNSPEC;<br />hints.ai_socktype = SOCK_STREAM;<br />hints.ai_flags = AI_PASSIVE; <br /><br />/* get the address information */<br />getaddrinfo(NULL, PORT, &amp;hints, &amp;servinfo);<br /><br />/* open the socket */<br />sockfd = socket(p-&gt;ai_family, p-&gt;ai_socktype, p-&gt;ai_protocol);<br /><br />/* allow the socket to be re-used */<br />setsockopt(sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;yes, sizeof(int));<br /><br />/* bind the socket to the address */<br />bind(sockfd, p-&gt;ai_addr, p-&gt;ai_addrlen);<br /><br />/* free up the address structure */<br />freeaddrinfo(servinfo); <br /><br />/* start the socket listening */<br />listen(sockfd, BACKLOG);<br /><br />/* accept the first connect */<br />new_fd = accept(sockfd, (struct sockaddr *)&amp;their_addr, &amp;sin_size);<br /><br />/* send the client some data */<br />send(new_fd, "Hello, world!", 13, 0);<br /> <br />/* finished with the client &amp; server */<br />close(new_fd);<br />close(sockfd);<br /></pre><br /><br />Further reading<br /><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?getaddrinfo+3">The getaddrinfo system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?socket">The socket system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?bind+2">The bind system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?listen+2">The listen system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?accept+2">The accept system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?recv">The recv system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?send">The send system call</a></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/11/26/unix-networking-client/">
        Unix Networking Client
      </a>
    </h1>

    <span class="post-date">26 Nov 2012</span>

    <h1>Unix Networking Client</h1>
<div class='post'>
The following snippet outlines the skeleton of a client socket application. It's the bare bones of what is needed to establish the client connection.<br /><br /><pre class="brush:c;">int sockfd, numbytes;  <br />char buf[MAXDATASIZE];<br />struct addrinfo hints, *servinfo, *p;<br />int rv;<br />char s[INET6_ADDRSTRLEN];<br /><br />/* fill out the address info */<br />memset(&amp;hints, 0, sizeof hints);<br />hints.ai_family = AF_UNSPEC;<br />hints.ai_socktype = SOCK_STREAM;<br /><br />/* create the actual server address */<br />getaddrinfo("www.remoteplace.com", PORT, &amp;hints, &amp;servinfo);<br /><br />/* create the socket file descriptor */<br />sockfd = socket(p-&gt;ai_family, p-&gt;ai_socktype, p-&gt;ai_protocol);<br /><br />/* perform the network connect */<br />connect(sockfd, p-&gt;ai_addr, p-&gt;ai_addrlen);<br /><br />/* free up the addres structure */<br />freeaddrinfo(servinfo); <br /><br />/* receive some data on the socket */<br />recv(sockfd, buf, MAXDATASIZE-1, 0));<br /><br />/* close the socket off */<br />close(sockfd);<br /></pre><br />Further reading<br /><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?getaddrinfo+3">The getaddrinfo system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?socket">The socket system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?connect">The connect system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?recv">The recv system call</a><br /><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?send">The send system call</a></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/11/26/unix-networking/">
        Unix Networking
      </a>
    </h1>

    <span class="post-date">26 Nov 2012</span>

    <h1>Unix Networking</h1>
<div class='post'>
I have just finished compiling two more blog posts for Unix Networking. Again, these aren't the&nbsp;definitive&nbsp;tutorial style blog posts, they're just code snippet short cuts to get moving quickly.<br /><br />Here are the links:<br /><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-networking-client.html">Client</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-networking-server.html">Server</a><br /><br />Further reading<br /><br /><a href="http://beej.us/guide/bgnet/">Beej's Guide to Network Programming</a></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/11/26/unix-ipc/">
        Unix IPC
      </a>
    </h1>

    <span class="post-date">26 Nov 2012</span>

    <h1>Unix IPC</h1>
<div class='post'>
I have just put together a set of blog posts on the topic of inter-process communication in the Unix environment. These are by no means meant to be full tutorials on their respective parts, more just shortcuts to get something running quickly.<br /><br />If you are looking for something more substantial on the theory side, there is more than enough information strewn about the internet regarding these topics. The Unix man pages are also an excellent source of information.<br /><br />Like a code-snippet reference.<br /><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-forking-and-waiting.html">Forking and Waiting</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-working-with-signals.html">Working with Signals</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-pipes-and-fifos.html">Pipes and FIFOs</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-locking-files.html">Locking Files</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-message-queues.html">Message Queues</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-semaphores.html">Semaphores</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-shared-memory_25.html">Shared Memory</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-memory-mapped-files.html">Memory Mapped Files</a><br /><a href="http://cogsandlevers.blogspot.com.au/2012/11/unix-ipc-unix-sockets.html">Unix Sockets</a><br /><br /><br />References<br /><a href="http://beej.us/guide/bgipc/">Beej's Guide to Unix IPC</a></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/11/26/creating-a-nes-emulator-in-c-11/">
        Creating a NES emulator in C++11
      </a>
    </h1>

    <span class="post-date">26 Nov 2012</span>

    <h1>Creating a NES emulator in C++11</h1>
<div class='post'>
I had to make a reference to these videos. Watching them is so entertaining (for someone like me). This is really how I wish programming would go!<br /><br /><iframe allowfullscreen="allowfullscreen" frameborder="0" height="315" src="http://www.youtube.com/embed/y71lli8MS8s" width="560"></iframe><br /><br /><br />  <iframe allowfullscreen="allowfullscreen" frameborder="0" height="315" src="http://www.youtube.com/embed/XZWw745wPXY" width="560"></iframe><br /><br />Entertaining!<br /><br /></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page36">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page34">Newer</a>
    
  
</div>
      </div>
    </div>

  </body>
</html>
