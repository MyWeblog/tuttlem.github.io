---
layout: post
title: Simple logging in C
date: 2012-12-08
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
Logging is probably one of the most important services you can offer your application. Your programs have information that needs to be expressed to the user, in fact in parts it's important for your program to be almost paranoid that it hasn't said anything.<br /><br />All things should be controllable though. Putting your application into production with a paranoid level of logging doesn't make for very happy sys-admins, so this is left as an exercise to the reader.<br /><br />Here, I want to present you a configurable but most importantly, a usable logging framework that you can drop into your C projects without much effort at all.<br /><br />Let's go through the header!<br /><br /><script src="https://gist.github.com/4239593.js?file=log.h"></script> <br /><br />This is very simple stuff. Only one function "_ced_log" is defined that's used by this header. The user is encouraged to access the logging functionality by proxy of the macros defined (ced_log and ced_logf). ced_log takes in the same parameter structure as a printf call allowing the very natural format strings to be used for your logging. ced_logf takes the structure of fprintf where you can direct your log information to a specific file handle.<br /><br />Again, with some small modifications you can direct all of your logs into a file by default. I just like to throw all mine out to the console. I hate surprises (in development)!!<br /><br />The implementation for this library piece is also very simple with only one function needing to be filled out:<br /><br /><script src="https://gist.github.com/4239593.js?file=log.c"></script> <br />Here is where you can really make this module your own. The default format that I have going in here has the current process ID and date/time stamp. I find these very useful during the fault-finding process once a unit of software is running. The most important thing to draw from this is you can change the default makeup of a log line by changing this code.<br /><br />I use this code just about everywhere. I use it so much that I have included it in my library that it available from github <a href="https://github.com/tuttlem/libced">here</a>.</div>
<h2>Comments</h2>
<div class='comments'>
</div>
