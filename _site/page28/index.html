<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Cogs and Levers &middot; A blog full of technical stuff
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A place for thoughts, ideas, tutorials and bookmarks. My brain can only hold so much, you know.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    <a class="sidebar-nav-item" href="https://github.com/tuttlem/tuttlem.github.io">GitHub</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2014. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <label for="sidebar-checkbox" class="sidebar-toggle"></label>

          <h3 class="masthead-title">
            <a href="/" title="Home">Cogs and Levers</a>
            <small>A blog full of technical stuff</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/12/26/anonymous-functions-in-haskell/">
        Anonymous Functions in Haskell
      </a>
    </h1>

    <span class="post-date">26 Dec 2012</span>

    <h1>Anonymous Functions in Haskell</h1>
<div class='post'>
<h3>Introduction</h3>It's no doubt that when you're first entering the wild world of Haskell, that it's syntax is a little alien to look at, at first glance.<br /><br />Once of the major building blocks or keys to unlocking power in Haskell are anonymous functions. The idea of higher-order functions in languages these days is becoming more of a standard rather than a feature and Haskell is no exception.<br /><br />There's plenty around on the web to read about <a href="http://en.wikipedia.org/wiki/Anonymous_function">anonymous functions</a>, <a href="http://en.wikipedia.org/wiki/Higher-order_function">higher-order functions</a>&nbsp;and of course <a href="http://en.wikipedia.org/wiki/Functional_programming">functional programming</a>.<br /><br /><h3>An example</h3><div>A fairly unintuitive example, but shows how you can assign an anonymous function to a handleable variable is shown:</div><div><br /><script src="https://gist.github.com/4377608.js"></script></div><div><br /></div><div>Breaking this down, the key part is "(\x -&gt; x)". Immediately, you can see that anonymous functions take the form of (\param1 .. paramn -&gt; body).<br /><br />The real power here is unlocked when you use an anonymous function in conjunction with other functions. The best example I think is the use of the <a href="http://zvon.org/other/haskell/Outputprelude/map_f.html">map</a> function. The <a href="http://zvon.org/other/haskell/Outputprelude/map_f.html">map</a> function is defined as follows:</div><br /><script src="https://gist.github.com/4377628.js"></script> This definition says, give me a function "f" and I'll take all of the "a"'s and turn them into "b"'s. Obviously, the anonymous function comes in for the "f" component. For simplicity, a can be an array of integers.<br /><br /><br /><script src="https://gist.github.com/4377636.js"></script><br />So the above example maps the function (x*x) across an array from 1 to 100. Easy!<br /><br />There are many other functions that can be applied in this way. Most common are <a href="http://zvon.org/other/haskell/Outputprelude/filter_f.html">filter</a>, <a href="http://zvon.org/other/haskell/Outputprelude/foldl_f.html">foldl</a> and <a href="http://zvon.org/other/haskell/Outputprelude/foldr_f.html">foldr</a>. The&nbsp;<a href="http://zvon.org/other/haskell/Outputprelude/filter_f.html">filter</a>&nbsp;function will apply a test to each item in the list and hand you back the items meeting the requirements of the test.<br /><br />Want only the odd items from a list?<br /><br /><script src="https://gist.github.com/4377659.js"></script> <br />So, this introduces another function, <a href="http://zvon.org/other/haskell/Outputprelude/odd_f.html">odd</a>, which just returns true if the input is odd.<br /><br />This post could go on, but i'll stop now. The whole anonymous function idea has been explained, it's just its implementation is infinite!</div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/12/26/a-simple-c-ini-file-reader/">
        A simple C++ INI file reader
      </a>
    </h1>

    <span class="post-date">26 Dec 2012</span>

    <h1>A simple C++ INI file reader</h1>
<div class='post'>
<h3>Introduction</h3><div>I've been looking for a simple way to quickly supply some of my applications with easy-access configuration information. Most of the times these are games and smaller utility applications. Enterprise scale applications deserve configuration systems of their own gargantuan proportions, but that's another story.</div><div><br /></div><div>Thinking back quite a few years, the windows crew had a pretty simple way to supply this sort of information to their running programs, they used the <a href="http://en.wikipedia.org/wiki/INI_file">INI file format</a>.</div><h3>How's it look?</h3><div>It's a pretty basic, plain-text format. Typically you'd see something along the lines of:</div><div><br /><pre>[section]<br />key1=value<br />key2=value<br />key3=value<br />...<br />[another section]<br />...<br />...<br /></pre></div><div><br />You get the idea. The wikipedia link above will give you a more thorough run-down should you need it.<br /><h3>How to make it usable?</h3></div><div>The aim is to basically feed an INI file into this process and have some very easy to use C++ objects out the other side. The <a href="http://en.wikipedia.org/wiki/Standard_Template_Library">STL</a>&nbsp;contains some very suitable container style objects that will measure up, so I want something like this:</div><div><br /><script src="https://gist.github.com/4379548.js"></script></div><div><br /></div><div><br /></div><div>The map class is a convenient way to manage key-value pairs. Perfect.<br /><br />Looking at the code, the types are very long-winded. All of the namespace declaration actually mixed with the types makes for a very long line. This can be cleaned up by "using" the std namespace, but the whole type definition itself could be cleaned up by just using a typedef. I'll be writing the types long-hand for the duration of this tutorial, just so we're clear.<br /><br /><h3>Doing it smart</h3><div>Thanks to the rigid format of the file, we've got a very solid standard set in place as to what we'll expect when we crack the file open. We can centralise all of our file processing around two regular expressions.</div><div><br /></div><pre>\[(.*?)\]</pre><div><br /></div>This first regular expression is our test for the section parts. It tests that the line being interpreted is wrapped in square brackets. When we run this through the regular expression system, it'll allow us to extract just the name. Nice.<br /><br /><pre>(\w+)=([^\+]+(?!\+{3}))</pre><br />This second expression will do our key value pair testing. When we use it in extraction with a regular expression, the first match will be the key, the second - the value. Double nice.<br /><br />So, we can fire these regular expressions up using the <a href="http://www.boost.org/doc/libs/1_52_0/libs/regex/doc/html/index.html">boost regex library</a>. I'm led to believe that parts of the boost library will be appearing in the newest C++ standard, regular expressions being one of them.<br /><br /><h3>Putting it all together</h3></div><div>The block of code in the end is quite simple.&nbsp;</div><div><br /><script src="https://gist.github.com/4379662.js"></script></div><div><br /></div><div>So, with a couple of tests to assure us that the values are ok we've got a pretty crude implementation here. Erroneous lines are ignored rather than responded to in an exception case. If no initial section is supplied before some key value pairs, those pairs will go into an item section with an empty string.<br /><br />Anyway, if the user is half-sane about how they treat their INI files, you'll be just fine.</div><div><br /></div></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/12/25/hello-haskell-from-the-web/">
        Hello, Haskell (from the web)!
      </a>
    </h1>

    <span class="post-date">25 Dec 2012</span>

    <h1>Hello, Haskell (from the web)!</h1>
<div class='post'>
<h3>Introduction</h3>The best part about technology is the ability to use anything you want. I've run across many frameworks all touting their own awesomeness. Sometimes though, you just need to smash a bit of output back to the client.<br /><br />Using the CGI and XHTML libraries available for Haskell, web programming is so simple. Just about every web server known to mankind can run a CGI program and if yours can't, it may need a trip to the gym.<br /><br /><h3>Show me some code</h3>Excellent. This is where it gets very interesting. I realise at first, when you're reading this code you're going to be saying "well, duh - I can knock out a HTML page to be statically served much easier than this B.S."<br /><br />If this is your train of thought, you may have missed the point. The example I provider here is only to demonstrate to the reader how we can get Haskell closer to the client generation.<br /><br /><script src="https://gist.github.com/4372983.js"></script> This should be fairly easy to follow. There's nothing out of the ordinary and it's very simple. After reading <a href="http://www.haskell.org/haskellwiki/Practical_web_programming_in_Haskell">this document</a> I was impressed that this could be condensed down into the following:<br /><br /><script src="https://gist.github.com/4372991.js"></script> <br />Damn! Not bad.<br /><br />And, here's the output that you get from running these CGI programs:<br /><br /><script src="https://gist.github.com/4373004.js"></script> <br />At the moment, I can see how this looks like a long way around and it certainly is a feathers over steam-train approach to delivering a static page but we've now got the power of Haskell behind our CGI program.<br /><br /><br /></div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/12/25/hello-haskell/">
        Hello, Haskell!
      </a>
    </h1>

    <span class="post-date">25 Dec 2012</span>

    <h1>Hello, Haskell!</h1>
<div class='post'>
<h3>Introduction</h3>Going back to basics in this post so that I can document the methods for compilation of <a href="http://www.haskell.org/haskellwiki/Haskell">Haskell</a> code. These <a href="http://www.haskell.org/haskellwiki/Haskell">Haskell</a> posts will get gradually more complex but for the time being, I'm going to bore you to tears with yet another <a href="http://en.wikipedia.org/wiki/Hello_world_program">"Hello, World"</a> example.<br /><br /><h3>The Code</h3>No real surprises here. We define the module, the main function and call a print-type function.<br /><br /><script src="https://gist.github.com/4372901.js"></script> <br /><br />Excellent. Now to compile this guy in one hit, issue the following command at the shell.<br /><br /><script src="https://gist.github.com/4372912.js"></script> <br />Breaking this command down, you can see that:<br /><ul><li>"ghc" is the compiler that we're using</li><li>"--make" which automatically figures out dependencies and is generally easier to use (according to the man page) than make itself</li><li>"-O2" sets the optimisation level to level 2. It's the highest level. You can read more about these levels <a href="http://www.linuxjournal.com/article/7269">here</a>.</li></ul>From there it's just specifying the inputs and outputs.<br /><br />More Haskell to follow. </div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/12/20/twitter-bootstrap-on-flask/">
        Twitter bootstrap on Flask
      </a>
    </h1>

    <span class="post-date">20 Dec 2012</span>

    <h1>Twitter bootstrap on Flask</h1>
<div class='post'>
I really like the simplicity of a micro-framework for web applications. No fluff, no messing around with junk you just don't need when you're trying to stay focused on what counts - logic.<br /><br />To ease this project startup phase even more, I've added a new project template to my templates repository on <a href="https://github.com/tuttlem/templates">github</a> that gets the&nbsp;<a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>&nbsp;web template up and running within a&nbsp;<a href="http://flask.pocoo.org/">Flask</a>&nbsp;application.<br /><br />Check it out if you get a chance.</div>
<h2>Comments</h2>
<div class='comments'>
</div>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page29">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page27">Newer</a>
    
  
</div>
      </div>
    </div>

  </body>
</html>
