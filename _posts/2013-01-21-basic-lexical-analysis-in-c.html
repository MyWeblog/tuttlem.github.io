---
layout: post
title: Basic Lexical Analysis in C#
date: 2013-01-21
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
<h3>Introduction</h3><div>Creating your own languages can be a fun challenge at times, it can also be a very intimidating beast if you don't break the problems down into small enough sub-problems. Each step of the compilation process is as important as the rest, so today's post is going to be about performing basic <a href="http://en.wikipedia.org/wiki/Lexical_analysis">Lexical Analysis</a>&nbsp;to tokenize your input.</div><div><br /></div><h3>Mission parameters</h3><div>We'll be designing a language that looks very similar to C-style boolean logic. It'll basically be an "if-statement machine" that we'll have in the end. The sorts of code strings that we'll look to analyse will be something like this.</div><div><br /><pre class="brush:plain">// numeric value comparison<br />4 &lt; 7<br /><br />// logic concatenation and scope<br />(4 &lt; 7) &amp;&amp; ((9 &gt;= 7) || (10 != 2))<br /><br />// string matching<br />"Hello" ~ "Hello, World"<br /></pre></div><div><br /></div><div>You can see how these will become quite complex quite quickly but that's not for us to worry about now. All we want to worry about is encountering items of interest in our strings and producing a list of tokens that we've found.<br /><br /><h3>Scanning the string</h3></div><div>"Things of interest" is what I called it above. The things of interest are say, the numeric values or the strings or the logical operator or the expression operators. When we want to interpret strings, we call on our friend Mr. Regular Expression.</div><div><br /></div><div>First thing I've done is to load an array with regular expressions matching the "things of interest" and generating a token for each of these.</div><div><br /><script src="https://gist.github.com/4581991.js"></script></div><div><br /></div><div>For every regular expression, you can see that I've assigned a symbolic token. That way we can scan a string and get a "hard-reference" to something of interest that we need to do something with. Scanning a string is just iterating over the characters, finding a regular expression match and adding it to the list.<br /><br /><script src="https://gist.github.com/4582060.js"></script> <br />By this point, we're either handed back a list of "ScanItem" objects that describes for us what our code is and looks like or an exception is thrown complaining about syntax problems. We can further use this list to start building expression trees to execute.<br /><br />The code in the article is based on a project that I'm currently working on called Umpire. The source code can be found in my <a href="https://github.com/tuttlem/Umpire/">GitHub repository</a>.</div><div><br /></div><div><br /></div></div>
<h2>Comments</h2>
<div class='comments'>
</div>
