<p>In order to create processes within the Unix environment, you must fork. Forking a process establishes the parent / child relationship which is where the waiting comes into it. All good parents wait for their children to die before terminating.</p>

<p>It&#39;s just good manners, you know?</p>

<p>So, the snippet for this will be a fork and wait set:</p>

<div class="highlight"><pre><code class="c"><span class="cm">/* fork execution here */</span>
<span class="kt">pid_t</span> <span class="n">pid</span> <span class="o">=</span> <span class="n">fork</span><span class="p">();</span>
 
<span class="kt">int</span> <span class="n">child_exit_code</span><span class="p">;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="n">pid</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
 <span class="cm">/* -1 indicates that fork failed */</span>
 <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">pid</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
 <span class="cm">/* 0 indicates that this is the child process */</span>
 <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="cm">/* the pid being returned indicates it&#39;s the parent */</span>
 <span class="cm">/* wait for the child to finish and</span>
<span class="cm">    capture its exit code */</span>
 <span class="n">wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">child_exit_code</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="further-reading">Further reading</h3>

<p><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?fork+2">The fork system call</a>
<a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?wait+2">The wait system call</a></p>
