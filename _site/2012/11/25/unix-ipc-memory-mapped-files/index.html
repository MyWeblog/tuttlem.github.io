<p>This snippet will show you how to open a file and map it into memory.</p>

<div class="highlight"><pre><code class="c"><span class="kt">int</span> <span class="n">fd</span><span class="p">,</span> <span class="n">pagesize</span><span class="p">;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
 
<span class="cm">/* open the file */</span>
<span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="s">&quot;somefile&quot;</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
 
<span class="cm">/* get the current page size */</span>
<span class="n">pagesize</span> <span class="o">=</span> <span class="n">getpagesize</span><span class="p">();</span>
 
<span class="cm">/* map the 2nd page into memory */</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">mmap</span><span class="p">((</span><span class="kt">caddr_t</span><span class="p">)</span><span class="mi">0</span><span class="p">,</span> <span class="n">pagesize</span><span class="p">,</span> <span class="n">PROT_READ</span><span class="p">,</span> <span class="n">MAP_SHARED</span><span class="p">,</span> <span class="n">fd</span><span class="p">,</span> <span class="n">pagesize</span><span class="p">);</span>
                                                        
<span class="cm">/* start using the data pointer */</span></code></pre></div>

<h3 id="further-reading">Further reading</h3>

<p><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?mmap">The mmap system call</a></p>
