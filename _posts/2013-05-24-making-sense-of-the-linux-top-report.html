---
layout: post
title: Making Sense of the Linux "top" Report
date: 2013-05-24
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
<h3>Introduction</h3>Working in a Linux environment for more and more of the day, it pays to know your tools really well. One tool that I use frequently to understand what a machine is doing is the "top" command. Today's post will take you through all of the figures on this report to help you understand what each means.<br /><br /><h3>The Command</h3>The <a href="http://linux.die.net/man/1/top">top</a> command is a very common tool used to "display Linux tasks" as the man page so helpfully tells us. Issuing this command at the shell will present the user with a few rows of figures followed by a list of all running processes on the system. Here is an extract of the report (just the upper lines that this post will focus on).<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-J1dAUFv5Ub8/UZ9G0XzeA7I/AAAAAAAAAss/2CBdFVmMhQo/s1600/top-sample.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="51" src="http://1.bp.blogspot.com/-J1dAUFv5Ub8/UZ9G0XzeA7I/AAAAAAAAAss/2CBdFVmMhQo/s400/top-sample.png" width="400" /></a></div><br /><h3>Breaking Down the Summary</h3>You can see from the excerpt above that quite a lot of information is packed into this part of the report. To breakdown this report, I'll just got through it line by line.<br /><br /><pre>top - 20:52:24 up 24 min,  2 users,  load average: 0.93, 1.01, 0.93</pre><br />The first line tells us the following:<br /><ul><li>The current time (20:52:24)</li><li>The machine's up time (24 min)</li><li>How many user sessions currently (2)</li><li>The system's load average for the last minute (0.93), last 5 minutes (1.01) and last 15 minutes (0.93)</li></ul>The system load average is an interesting one. A general rule of thumb is to investigate if you're seeing averages above 0.7. An average of 1.0 suggests that just enough work is getting processed by the machine, but is leaving you no headroom to move. Seeing a load of 5 and above is panic-time, systems stalling, trouble.<br /><br />For more information about these load values, take a look at <a href="http://blog.scoutapp.com/articles/2009/07/31/understanding-load-averages">Understanding Linux CPU Load - when should you be worried?</a> <br /><br /><pre>Tasks: 111 total,   1 running, 110 sleeping,   0 stopped,   0 zombie</pre><br />The second line tells us the following:<br /><ul><li>The total number of tasks (111)</li><li>How many of those tasks are running (1)</li><li>How many of them are sleeping (110)</li><li>How many of them are stopped (0)</li><li>and, How many of them are waiting to be stopped (or zombie) (0)</li></ul><pre>%Cpu(s):  12.3 us,  4.9 sy,  0.0 ni, 81.8 id,  0.7 wa,  0.0 hi,  0.3 si,  0.0 st</pre><br />The third line gives you a point in time view of how busy the CPU is and where its cycles are being used. It tells us the percentage of CPU being used for:<br /><ul><li>User applications (12.3 us)</li><li>System applications (4.9 sy)</li><li>Applications that have had their "nice" value adjusted (0.0 ni)</li><li>Unused or Idle (81.8 id)</li><li>Waiting for I/O operations (0.7 wa)</li><li>Handling hardware interrupts (0.0 hi)</li><li>Handling software interrupts (0.3 si)</li><li>Stolen by the hypervisor (0.0 st) </li></ul><pre>KiB Mem:   8129072 total,  1402664 used,  6726408 free,    69512 buffers</pre><pre>KiB Swap:  9920508 total,        0 used,  9920508 free,   620016 cached</pre><br />The fourth and fifth lines deal with memory and swap utilisation. It tells us the following:<br /><ul><li>Total</li><li>Used</li><li>Free&nbsp;</li><li>Buffers &amp; Cached</li></ul>That's it for the summary of the machine's activity. These are all the aggregate values which will give you an "at a glance" feel for how the machine is going. The next part of this post will be all about reading specific information from the process report. Here's an excerpt of the report.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-96sIylwcoDQ/UZ9TaeqDLXI/AAAAAAAAAs8/gAGD-cIp_XM/s1600/proc-sample.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="31" src="http://3.bp.blogspot.com/-96sIylwcoDQ/UZ9TaeqDLXI/AAAAAAAAAs8/gAGD-cIp_XM/s400/proc-sample.png" width="400" /></a></div><br /><h3>Breaking Down the Process Report</h3>To interrogate a single process, you can use the details within the process report. It will list out all of the processes currently managed by your system. The report columns as you look at it will provide the following information:<br /><ul><li>The process ID (PID)</li><li>The user who owns the process (USER)</li><li>The priority (PR)</li><li>The nice value (NI)</li><li>Virtual memory used by the process (VIRT)</li><li>Physical memory used by the process (RES)</li><li>Shared memory for the process (SHR)</li><li>Status of the process (S) (<b>S</b>leeping, <b>R</b>unning, <b>Z</b>ombie)</li><li>Percentage of CPU used by this process (%CPU)</li><li>Percentage of memory used by this process (%MEM)</li><li>The time that this process has been active (TIME+)</li><li>The name of the process (COMMAND)</li></ul><br />That's it for the "top" command in Linux. Remember, always read the <a href="http://linux.die.net/man/1/top">man pages</a> for commands that you want to learn more about!</div>
<h2>Comments</h2>
<div class='comments'>
</div>
